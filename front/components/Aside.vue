<template>
  <b-sidebar
    class="d-block"
    id="sidebar"
    backdrop
    no-header
    :backdrop="false"
    :no-close-on-route-change="true"
    :visible="visibleBar"
  >
    <div class="sidebar-inner">
      <div>
        <div class="sidebar-head">
          <nuxt-link to="/">
            Fanlar
          </nuxt-link>
        </div>
        <div class="sidebar-body">
          <!--          <nuxt-link to="/profile" class="profile d-flex align-items-center">-->
          <!--          <div class="profile d-flex align-items-center">-->
          <!--            <div class="avatar">-->
          <!--              <img src="@/static/img/profile.svg" alt="">-->
          <!--            </div>-->
          <!--            <div class="text">-->
          <!--              <p>Джамшид Пулатов</p>-->
          <!--              <span>1-сектор раҳбари</span>-->
          <!--            </div>-->
          <!--          </div>-->
          <!--          </nuxt-link>-->

          <!--          <div class="progress-wrap">-->
          <!--            <h6>Учебный прогресс </h6>-->
          <!--            <p class="d-flex align-items-center justify-content-between">-->
          <!--              <span>Этап 1</span>-->
          <!--              <span>10%</span>-->
          <!--            </p>-->

          <!--            <b-progress :value="value" :max="max"></b-progress>-->

          <!--          </div>-->

          <!--          <a href="#" class="btn btn-blue">Продолжить обучение</a>-->

          <nav>
            <NuxtLink to="/courses">
              <i>
                <svg
                  width="20"
                  height="16"
                  viewBox="0 0 20 16"
                  fill="none"
                  xmlns="http://www.w3.org/2000/svg"
                >
                  <path
                    d="M10 4.24988C10.625 1.78269 12.9856 0.522929 18.125 0.499882C18.2072 0.499573 18.2886 0.515527 18.3645 0.546827C18.4405 0.578126 18.5095 0.624151 18.5676 0.68225C18.6257 0.740348 18.6718 0.809371 18.7031 0.885339C18.7344 0.961307 18.7503 1.04272 18.75 1.12488V12.3749C18.75 12.5406 18.6842 12.6996 18.5669 12.8168C18.4497 12.934 18.2908 12.9999 18.125 12.9999C13.125 12.9999 11.1934 14.0081 10 15.4999M10 4.24988C9.375 1.78269 7.01446 0.522929 1.875 0.499882C1.79284 0.499573 1.71143 0.515527 1.63546 0.546827C1.55949 0.578126 1.49047 0.624151 1.43237 0.68225C1.37427 0.740348 1.32825 0.809371 1.29695 0.885339C1.26565 0.961307 1.24969 1.04272 1.25 1.12488V12.2995C1.25 12.6854 1.48907 12.9999 1.875 12.9999C6.875 12.9999 8.81368 14.0155 10 15.4999M10 4.24988V15.4999"
                    stroke="#334D6E"
                    stroke-linecap="round"
                    stroke-linejoin="round"
                  />
                </svg>
              </i>
              <span>Barcha Testlar</span>

            </NuxtLink>

            <NuxtLink to="/crud/tests" v-if="user && !user.is_student">
              <i>
                <svg
                  width="20"
                  height="16"
                  viewBox="0 0 20 16"
                  fill="none"
                  xmlns="http://www.w3.org/2000/svg"
                >
                  <path
                    d="M10 4.24988C10.625 1.78269 12.9856 0.522929 18.125 0.499882C18.2072 0.499573 18.2886 0.515527 18.3645 0.546827C18.4405 0.578126 18.5095 0.624151 18.5676 0.68225C18.6257 0.740348 18.6718 0.809371 18.7031 0.885339C18.7344 0.961307 18.7503 1.04272 18.75 1.12488V12.3749C18.75 12.5406 18.6842 12.6996 18.5669 12.8168C18.4497 12.934 18.2908 12.9999 18.125 12.9999C13.125 12.9999 11.1934 14.0081 10 15.4999M10 4.24988C9.375 1.78269 7.01446 0.522929 1.875 0.499882C1.79284 0.499573 1.71143 0.515527 1.63546 0.546827C1.55949 0.578126 1.49047 0.624151 1.43237 0.68225C1.37427 0.740348 1.32825 0.809371 1.29695 0.885339C1.26565 0.961307 1.24969 1.04272 1.25 1.12488V12.2995C1.25 12.6854 1.48907 12.9999 1.875 12.9999C6.875 12.9999 8.81368 14.0155 10 15.4999M10 4.24988V15.4999"
                    stroke="#334D6E"
                    stroke-linecap="round"
                    stroke-linejoin="round"
                  />
                </svg>
              </i>
              <span>Саволлар қўшиш</span>
            </NuxtLink>
            <NuxtLink to="/crud/users" v-if="user && !user.is_student">
              <i>
                <svg
                  width="20"
                  height="16"
                  viewBox="0 0 20 16"
                  fill="none"
                  xmlns="http://www.w3.org/2000/svg"
                >
                  <path
                    d="M10 4.24988C10.625 1.78269 12.9856 0.522929 18.125 0.499882C18.2072 0.499573 18.2886 0.515527 18.3645 0.546827C18.4405 0.578126 18.5095 0.624151 18.5676 0.68225C18.6257 0.740348 18.6718 0.809371 18.7031 0.885339C18.7344 0.961307 18.7503 1.04272 18.75 1.12488V12.3749C18.75 12.5406 18.6842 12.6996 18.5669 12.8168C18.4497 12.934 18.2908 12.9999 18.125 12.9999C13.125 12.9999 11.1934 14.0081 10 15.4999M10 4.24988C9.375 1.78269 7.01446 0.522929 1.875 0.499882C1.79284 0.499573 1.71143 0.515527 1.63546 0.546827C1.55949 0.578126 1.49047 0.624151 1.43237 0.68225C1.37427 0.740348 1.32825 0.809371 1.29695 0.885339C1.26565 0.961307 1.24969 1.04272 1.25 1.12488V12.2995C1.25 12.6854 1.48907 12.9999 1.875 12.9999C6.875 12.9999 8.81368 14.0155 10 15.4999M10 4.24988V15.4999"
                    stroke="#334D6E"
                    stroke-linecap="round"
                    stroke-linejoin="round"
                  />
                </svg>
              </i>
              <span>Фойдаланувчи қўшиш</span>
            </NuxtLink>

            <!-- <NuxtLink to="/courses/42">
              <i>
                <svg
                  width="20"
                  height="20"
                  viewBox="0 0 20 20"
                  fill="none"
                  xmlns="http://www.w3.org/2000/svg"
                >
                  <path
                    d="M14.375 1.875H5.625C4.58947 1.875 3.75 2.71447 3.75 3.75V16.25C3.75 17.2855 4.58947 18.125 5.625 18.125H14.375C15.4105 18.125 16.25 17.2855 16.25 16.25V3.75C16.25 2.71447 15.4105 1.875 14.375 1.875Z"
                    stroke="#334D6E"
                    stroke-linejoin="round"
                  />
                  <path
                    d="M6.875 5H13.125"
                    stroke="#334D6E"
                    stroke-linecap="round"
                    stroke-linejoin="round"
                  />
                  <path
                    d="M6.875 8.125H13.125"
                    stroke="#334D6E"
                    stroke-linecap="round"
                    stroke-linejoin="round"
                  />
                  <path
                    d="M6.875 11.25H10"
                    stroke="#334D6E"
                    stroke-linecap="round"
                    stroke-linejoin="round"
                  />
                </svg>
              </i>
              <span>Мурожаатнома</span>
            </NuxtLink>

            <NuxtLink to="/courses/36" class="library">
              <i>
                <svg
                  width="20"
                  height="20"
                  viewBox="0 0 20 20"
                  fill="none"
                  xmlns="http://www.w3.org/2000/svg"
                >
                  <path
                    d="M4.375 8.25C4.09886 8.25 3.875 8.47386 3.875 8.75C3.875 9.02614 4.09886 9.25 4.375 9.25V8.25ZM9.375 9.25C9.65114 9.25 9.875 9.02614 9.875 8.75C9.875 8.47386 9.65114 8.25 9.375 8.25V9.25ZM4.375 15.125C4.09886 15.125 3.875 15.3489 3.875 15.625C3.875 15.9011 4.09886 16.125 4.375 16.125V15.125ZM9.375 16.125C9.65114 16.125 9.875 15.9011 9.875 15.625C9.875 15.3489 9.65114 15.125 9.375 15.125V16.125ZM16.5023 3.7543L16.5547 4.25155L16.5547 4.25155L16.5023 3.7543ZM14.9242 3.92031L14.8719 3.42306L14.8719 3.42306L14.9242 3.92031ZM14.2238 4.82266L13.7267 4.87655L13.7268 4.87663L14.2238 4.82266ZM15.5879 17.3848L15.0908 17.4387L15.0908 17.4391L15.5879 17.3848ZM16.4664 18.1207L16.5183 18.618L16.5187 18.618L16.4664 18.1207ZM18.0445 17.9547L18.0968 18.4519L18.0969 18.4519L18.0445 17.9547ZM18.7449 17.0523L19.242 16.9985L19.242 16.9984L18.7449 17.0523ZM17.3828 4.49219L17.8799 4.43828L17.8796 4.43598L17.3828 4.49219ZM1.875 4.25H3.125V3.25H1.875V4.25ZM3.125 4.25C3.19404 4.25 3.25 4.30596 3.25 4.375H4.25C4.25 3.75368 3.74632 3.25 3.125 3.25V4.25ZM3.25 4.375V17.5H4.25V4.375H3.25ZM3.25 17.5C3.25 17.569 3.19404 17.625 3.125 17.625V18.625C3.74632 18.625 4.25 18.1213 4.25 17.5H3.25ZM3.125 17.625H1.875V18.625H3.125V17.625ZM1.875 17.625C1.80596 17.625 1.75 17.569 1.75 17.5H0.75C0.75 18.1213 1.25368 18.625 1.875 18.625V17.625ZM1.75 17.5V4.375H0.75V17.5H1.75ZM1.75 4.375C1.75 4.30596 1.80596 4.25 1.875 4.25V3.25C1.25368 3.25 0.75 3.75368 0.75 4.375H1.75ZM4.375 9.25H9.375V8.25H4.375V9.25ZM4.375 16.125H9.375V15.125H4.375V16.125ZM5 6.75H8.75V5.75H5V6.75ZM8.75 6.75C8.81904 6.75 8.875 6.80596 8.875 6.875H9.875C9.875 6.25368 9.37132 5.75 8.75 5.75V6.75ZM8.875 6.875V17.5H9.875V6.875H8.875ZM8.875 17.5C8.875 17.569 8.81904 17.625 8.75 17.625V18.625C9.37132 18.625 9.875 18.1213 9.875 17.5H8.875ZM8.75 17.625H5V18.625H8.75V17.625ZM5 17.625C4.93096 17.625 4.875 17.569 4.875 17.5H3.875C3.875 18.1213 4.37868 18.625 5 18.625V17.625ZM4.875 17.5V6.875H3.875V17.5H4.875ZM4.875 6.875C4.875 6.80596 4.93096 6.75 5 6.75V5.75C4.37868 5.75 3.875 6.25368 3.875 6.875H4.875ZM10.625 2.375H13.125V1.375H10.625V2.375ZM13.125 2.375C13.194 2.375 13.25 2.43096 13.25 2.5H14.25C14.25 1.87868 13.7463 1.375 13.125 1.375V2.375ZM13.25 2.5V17.5H14.25V2.5H13.25ZM13.25 17.5C13.25 17.569 13.194 17.625 13.125 17.625V18.625C13.7463 18.625 14.25 18.1213 14.25 17.5H13.25ZM13.125 17.625H10.625V18.625H13.125V17.625ZM10.625 17.625C10.556 17.625 10.5 17.569 10.5 17.5H9.5C9.5 18.1213 10.0037 18.625 10.625 18.625V17.625ZM10.5 17.5V2.5H9.5V17.5H10.5ZM10.5 2.5C10.5 2.43096 10.556 2.375 10.625 2.375V1.375C10.0037 1.375 9.5 1.87868 9.5 2.5H10.5ZM16.45 3.25704L14.8719 3.42306L14.9765 4.41757L16.5547 4.25155L16.45 3.25704ZM14.8719 3.42306C14.1445 3.4996 13.6501 4.16917 13.7267 4.87655L14.7209 4.76877C14.6999 4.57536 14.8352 4.43244 14.9765 4.41757L14.8719 3.42306ZM13.7268 4.87663L15.0908 17.4387L16.085 17.3308L14.7209 4.76868L13.7268 4.87663ZM15.0908 17.4391C15.1681 18.1457 15.7932 18.6936 16.5183 18.618L16.4145 17.6234C16.2708 17.6384 16.1061 17.5246 16.0849 17.3304L15.0908 17.4391ZM16.5187 18.618L18.0968 18.4519L17.9922 17.4574L16.4141 17.6234L16.5187 18.618ZM18.0969 18.4519C18.8243 18.3754 19.3187 17.7058 19.242 16.9985L18.2478 17.1062C18.2688 17.2996 18.1335 17.4426 17.9922 17.4574L18.0969 18.4519ZM19.242 16.9984L17.8799 4.43828L16.8857 4.54609L18.2478 17.1063L19.242 16.9984ZM17.8796 4.43598C17.7998 3.73056 17.1769 3.18056 16.45 3.25704L16.5547 4.25155C16.6965 4.23663 16.8634 4.34913 16.886 4.54839L17.8796 4.43598Z"
                    fill="#334D6E"
                  />
                </svg>
              </i>
              <span>Кутубхона</span>
            </NuxtLink>

            <NuxtLink to="/courses/37">
              <i>
                <svg
                  width="20"
                  height="20"
                  viewBox="0 0 20 20"
                  fill="none"
                  xmlns="http://www.w3.org/2000/svg"
                >
                  <path
                    d="M14.375 1.875H5.625C4.58947 1.875 3.75 2.71447 3.75 3.75V16.25C3.75 17.2855 4.58947 18.125 5.625 18.125H14.375C15.4105 18.125 16.25 17.2855 16.25 16.25V3.75C16.25 2.71447 15.4105 1.875 14.375 1.875Z"
                    stroke="#334D6E"
                    stroke-linejoin="round"
                  />
                  <path
                    d="M6.875 5H13.125"
                    stroke="#334D6E"
                    stroke-linecap="round"
                    stroke-linejoin="round"
                  />
                  <path
                    d="M6.875 8.125H13.125"
                    stroke="#334D6E"
                    stroke-linecap="round"
                    stroke-linejoin="round"
                  />
                  <path
                    d="M6.875 11.25H10"
                    stroke="#334D6E"
                    stroke-linecap="round"
                    stroke-linejoin="round"
                  />
                </svg>
              </i>
              <span>Норматив ҳуқуқий ҳужжатлар</span>
            </NuxtLink>

            <NuxtLink to="/courses/35">
              <i>
                <svg
                  width="20"
                  height="20"
                  viewBox="0 0 20 20"
                  fill="none"
                  xmlns="http://www.w3.org/2000/svg"
                >
                  <path
                    d="M14.375 1.875H5.625C4.58947 1.875 3.75 2.71447 3.75 3.75V16.25C3.75 17.2855 4.58947 18.125 5.625 18.125H14.375C15.4105 18.125 16.25 17.2855 16.25 16.25V3.75C16.25 2.71447 15.4105 1.875 14.375 1.875Z"
                    stroke="#334D6E"
                    stroke-linejoin="round"
                  />
                  <path
                    d="M6.875 5H13.125"
                    stroke="#334D6E"
                    stroke-linecap="round"
                    stroke-linejoin="round"
                  />
                  <path
                    d="M6.875 8.125H13.125"
                    stroke="#334D6E"
                    stroke-linecap="round"
                    stroke-linejoin="round"
                  />
                  <path
                    d="M6.875 11.25H10"
                    stroke="#334D6E"
                    stroke-linecap="round"
                    stroke-linejoin="round"
                  />
                </svg>
              </i>
              <span>Рейтинг</span>
            </NuxtLink> -->

            <!--            <hr>-->

            <!--            <nuxt-link to="/profile">-->
            <!--              <i>-->
            <!--                <svg width="20" height="20" viewBox="0 0 20 20" fill="none" xmlns="http://www.w3.org/2000/svg">-->
            <!--                  <path-->
            <!--                    d="M13.4371 5.625L13.9357 5.66197L13.9357 5.66194L13.4371 5.625ZM6.56211 5.625L6.06342 5.66127L6.06343 5.66131L6.56211 5.625ZM2.51367 17.2891L3.00573 17.3778L3.00573 17.3778L2.51367 17.2891ZM17.4859 17.2891L17.978 17.2003L17.978 17.2003L17.4859 17.2891ZM12.9385 5.58803C12.7992 7.46618 11.3884 8.875 9.99961 8.875V9.875C12.0483 9.875 13.7687 7.91429 13.9357 5.66197L12.9385 5.58803ZM9.99961 8.875C8.61034 8.875 7.19747 7.46604 7.06079 5.58869L6.06343 5.66131C6.22752 7.91521 7.95138 9.875 9.99961 9.875V8.875ZM7.06079 5.58873C6.92549 3.72843 8.22125 2.375 9.99961 2.375V1.375C7.63734 1.375 5.88622 3.22469 6.06342 5.66127L7.06079 5.58873ZM9.99961 2.375C11.7748 2.375 13.0736 3.76417 12.9385 5.58806L13.9357 5.66194C14.1131 3.26708 12.365 1.375 9.99961 1.375V2.375ZM9.99961 11.375C6.45921 11.375 2.71841 13.3368 2.02161 17.2003L3.00573 17.3778C3.5855 14.1632 6.74313 12.375 9.99961 12.375V11.375ZM2.02161 17.2003C1.96271 17.5268 2.02068 17.8725 2.21024 18.1494C2.40748 18.4376 2.73196 18.625 3.12461 18.625V17.625C3.09127 17.625 3.07402 17.6179 3.06578 17.6135C3.05685 17.6087 3.04634 17.6005 3.03546 17.5846C3.01193 17.5502 2.98768 17.4779 3.00573 17.3778L2.02161 17.2003ZM3.12461 18.625H16.8746V17.625H3.12461V18.625ZM16.8746 18.625C17.2673 18.625 17.5919 18.4377 17.7893 18.1495C17.9789 17.8725 18.0369 17.5268 17.978 17.2003L16.9939 17.3778C17.0119 17.4779 16.9877 17.5502 16.9642 17.5845C16.9533 17.6004 16.9428 17.6086 16.9338 17.6134C16.9255 17.6178 16.9081 17.625 16.8746 17.625V18.625ZM17.978 17.2003C17.2808 13.3368 13.54 11.375 9.99961 11.375V12.375C13.2561 12.375 16.4138 14.1632 16.9939 17.3779L17.978 17.2003Z"-->
            <!--                    fill="#334D6E"/>-->
            <!--                </svg>-->

            <!--              </i>-->
            <!--              <span>Профиль</span>-->
            <!--            </nuxt-link>-->
          </nav>
        </div>
      </div>

      <!--      <div class="sidebar-footer">-->
      <!--        <nav>-->
      <!--          <a href="#">Фойдаланиш шартлари</a>-->
      <!--          <a href="#">Фойдаланувчи қўлланмаси</a>-->
      <!--          <a class="gray-text" href="#">Справочный центр</a>-->
      <!--        </nav>-->
      <!--      </div>-->
    </div>
  </b-sidebar>
</template>

<script>
import { mapState } from "vuex";

export default {
  name: "Aside",
  data() {
    return {
      value: 10,
      max: 100,
      visibleBar: false
    };
  },
  computed: {
    ...mapState({
      user: s => s.auth.user
    })
  },

  /*computed:{
    visible(){
      if(window.width > 1200){
        return true
      }
      else {
        return false
      }
    }
  }*/

  mounted() {
    // this.resize();

    window.addEventListener("resize", this.resize);
  },
  destroyed() {
    window.removeEventListener("resize", this.resize);
  },
  methods: {
    resize() {
      if (window.innerWidth > 992) {
        this.visibleBar = true;
      } else {
        this.visibleBar = false;
      }
    }
  }
};
</script>

<style scoped lang="scss">
.sidebar-head {
  a {
    font-size: 24px;
    font-weight: 500;
    text-decoration: none;
    color: #1A202C;
    transition: all 0.2s;
    display: block;

    &:hover {
      transform: scale(1.1) translateX(10px);
    }
  }
}
</style>
